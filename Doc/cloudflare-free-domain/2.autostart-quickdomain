# âœ… HÆ°á»›ng dáº«n dÃ¹ng **Cloudflare Quick Tunnel** (demo/test)

### 1. Chuáº©n bá»‹

- Windows + Docker Desktop Ä‘Ã£ cháº¡y API container.

- File `cloudflared.exe` Ä‘Ã£ táº£i vá» á»Ÿ:
  
  `C:\cloudflared\cloudflared.exe`

### 2. Kiá»ƒm tra API trong Docker

Äáº£m báº£o container API Ä‘Ã£ map port `8080:8080`.

`docker ps --format "table {{.Names}}\t{{.Ports}}"`

Test tá»« host:

`Invoke-WebRequest http://localhost:8080/healthz`

Káº¿t quáº£ pháº£i lÃ :

`{"ok":true,"service":"wh-ma", ...}`

---

### 3. Má»Ÿ Quick Tunnel

Cháº¡y lá»‡nh:

``C:\cloudflared\cloudflared.exe tunnel --no-autoupdate --edge-ip-version auto `   --url http://localhost:8080 --loglevel info``

ğŸ‘‰ Cloudflare sáº½ in ra URL dáº¡ng:

`https://<random-string>.trycloudflare.com`

---

### 4. Test tá»« bÃªn ngoÃ i

- TrÃªn chÃ­nh mÃ¡y host:
  
  `Invoke-WebRequest https://<random>.trycloudflare.com/healthz`

- TrÃªn Ä‘iá»‡n thoáº¡i/4G: má»Ÿ URL â†’ tháº¥y JSON `{ "ok": true, ... }`.

---

### 5. LÆ°u Ã½ váº­n hÃ nh

- Quick Tunnel **táº¡m thá»i**: má»—i láº§n restart URL sáº½ khÃ¡c.

- Cá»­a sá»• PowerShell cháº¡y tunnel pháº£i Ä‘Æ°á»£c giá»¯ má»Ÿ. ÄÃ³ng cá»­a sá»• = máº¥t tunnel.

- Khi cáº§n dá»«ng tunnel:
  
  `Get-Process cloudflared | Stop-Process -Force`

---

### 6. Lá»‡nh máº«u (ACE copy nhanh)

`# kiá»ƒm tra API trong host Invoke-WebRequest http://localhost:8080/healthz # má»Ÿ quick tunnel C:\cloudflared\cloudflared.exe tunnel --no-autoupdate --url http://localhost:8080 # (tuá»³ chá»n) Ã©p dÃ¹ng HTTP/2 náº¿u máº¡ng cháº·n QUIC C:\cloudflared\cloudflared.exe tunnel --no-autoupdate --protocol http2 --url http://localhost:8080 --l`
